{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GGand\\\\OneDrive\\\\Documents\\\\Classes\\\\Tutor\\\\Denise\\\\stayorgo\\\\client\\\\src\\\\components\\\\Search\\\\Search.js\";\nimport React, { Component } from 'react';\nimport API from '../../utils/API';\nimport \"./Search.css\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      City: '',\n      State: '',\n      propertiesList: []\n    };\n\n    this.getZillowProperties = (city, state) => {\n      API.getZillowProperties(city, state).then(res => {\n        this.setState({\n          propertiesList: res.data\n        }, function () {\n          console.log(\"Zillow API Call: \", this.state.data);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n\n      if (!this.state.City && !this.state.State) {\n        return false;\n      }\n\n      this.getZillowProperties(this.state.City, this.state.State);\n    };\n\n    this.saveproperty = propertyId => {\n      // find property in this.state.propertiesList based on the propertyId value\n      const propertyPicked = this.state.propertiesList.find(property => property.propertyId === propertyId);\n      console.log(propertyPicked);\n      API.saveproperty(propertyPicked).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    {\n      var zillowData;\n    }\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"searchDiv\",\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Search for properties\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"City\",\n      onChange: this.handleInputChange,\n      placeholder: \"City\",\n      value: this.state.City,\n      type: \"input\",\n      className: \"form-control mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"State\",\n      onChange: this.handleInputChange,\n      placeholder: \"State\",\n      value: this.state.State,\n      type: \"input\",\n      className: \"form-control mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-block btn-success\",\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Search for property.\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-md-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.propertiesList.length ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Search Results for: \", this.state.City, \", \", this.state.State), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.propertiesList.map(property => {\n      return React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        key: property.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"USD: \", property.value), React.createElement(\"a\", {\n        href: property.googleMap,\n        rel: \"noopener noreferrer\",\n        target: \"_blank\",\n        className: \"btn btn-success btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Google Map\"), React.createElement(\"a\", {\n        href: property.zillowURL,\n        rel: \"noopener noreferrer\",\n        target: \"_blank\",\n        className: \"btn btn-success btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Zillow Link\"), React.createElement(\"button\", {\n        onClick: () => this.saveproperty(property.propertyId),\n        className: \"btn btn-dark btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Save property.\"))));\n    }))) : \"\"))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\GGand\\OneDrive\\Documents\\Classes\\Tutor\\Denise\\stayorgo\\client\\src\\components\\Search\\Search.js"],"names":["React","Component","API","Search","state","City","State","propertiesList","getZillowProperties","city","then","res","setState","data","console","log","catch","err","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","saveproperty","propertyId","propertyPicked","find","property","render","zillowData","length","map","id","googleMap","zillowURL"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport API from '../../utils/API';\r\nimport \"./Search.css\";\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    City: '',\r\n    State: '',\r\n    propertiesList: []\r\n  };\r\n  getZillowProperties = (city, state) => {\r\n    API.getZillowProperties(city, state)\r\n      .then(res => {\r\n        this.setState({propertiesList: res.data}, function () {\r\n          console.log(\"Zillow API Call: \",this.state.data);\r\n          })\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    if (!this.state.City && !this.state.State) {\r\n      return false;\r\n    }\r\n    this.getZillowProperties(this.state.City, this.state.State);\r\n  };\r\n\r\n  saveproperty = propertyId => {\r\n    // find property in this.state.propertiesList based on the propertyId value\r\n    const propertyPicked = this.state.propertiesList.find(property => property.propertyId === propertyId);\r\n    console.log(propertyPicked);\r\n    API.saveproperty(propertyPicked)\r\n      .then(res => {\r\n        console.log(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    {var zillowData;}\r\n    return (\r\n      <React.Fragment>\r\n        {/* make jumbotron */}\r\n        {/* create row with two columns */}\r\n        <div id=\"searchDiv\" className=\"container-fluid\">\r\n          <div className=\"row\">\r\n              <h2 id=\"title\">Search for properties</h2>\r\n          </div>\r\n          <div className=\"row\">\r\n            {/* form section */}\r\n            <div className=\"col-12 col-sm-6 col-md-8\">\r\n              <form onSubmit={this.handleFormSubmit}>\r\n                <input\r\n                    name=\"City\"\r\n                    onChange={this.handleInputChange}\r\n                    placeholder=\"City\"\r\n                    value={this.state.City}\r\n                    type=\"input\"\r\n                    className=\"form-control mb-3\"\r\n                />\r\n                <input\r\n                    name=\"State\"\r\n                    onChange={this.handleInputChange}\r\n                    placeholder=\"State\"\r\n                    value={this.state.State}\r\n                    type=\"input\"\r\n                    className=\"form-control mb-3\"\r\n                />\r\n                <button className=\"btn btn-block btn-success\" onClick={this.handleFormSubmit}>\r\n                  Search for property.\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            {/* end form section */}\r\n            {/* begin property result section */}\r\n            <div className=\"col-12 col-sm-6 col-md-9\">\r\n              {this.state.propertiesList.length ? (\r\n                <React.Fragment>\r\n                  <h3>Search Results for: {this.state.City}, {this.state.State}</h3>\r\n                  <div className=\"row\">\r\n                    {this.state.propertiesList.map(property => {\r\n                      return (\r\n                        <div className=\"col-12 col-md-6\" key={property.id}>\r\n                          <div className=\"card\">\r\n                            {/* <img src={property.image} alt={property.title} className=\"card-img-top\" /> */}\r\n                            <div className=\"card-body\">\r\n                              <h5 className=\"card-title\">USD: {property.value}</h5>\r\n                              {/* <p className=\"card-text\">Released: {property.date}</p> */}\r\n                              {/* {property.authors ? <p className=\"card-text\">By: {property.authors.join(', ')}</p> : ''} */}\r\n                              {/* <p className=\"card-text\">\r\n                                <strong>Description</strong>: {property.description}{' '}\r\n                              </p> */}\r\n\r\n                              <a\r\n                                href={property.googleMap}\r\n                                rel=\"noopener noreferrer\"\r\n                                target=\"_blank\"\r\n                                className=\"btn btn-success btn-small\">\r\n                                Google Map\r\n                              </a>\r\n                              <a\r\n                                href={property.zillowURL}\r\n                                rel=\"noopener noreferrer\"\r\n                                target=\"_blank\"\r\n                                className=\"btn btn-success btn-small\">\r\n                                Zillow Link\r\n                              </a>\r\n                              <button onClick={() => this.saveproperty(property.propertyId)} className=\"btn btn-dark btn-small\">\r\n                                Save property.\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </React.Fragment>\r\n              ) : \"\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}